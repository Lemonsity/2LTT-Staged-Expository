We introduced staged compilation, more specifically, two-stage compilation as a useful way to write metaprograms that generate code with safety. With the special operations for moving between stages (namely lifting, quoting, and splicing) integrated to the typing rules, the 2LTT model provides not only guarantees the well-formedness of the generated output, but also support for dependent types on both stages. While this paper only covered the typing rules for type-checking a metaprogram, the staging algorithm (also known as the substitution calculus) can alse be formalised into typing rules through categorical logic (also known as abstract nonsense logic).
